<?php
// Commencer une session
session_start();

// Si l'utilisateur n'est pas authentifiÃ©, le rediriger vers la page de connexion
if (!isset($_SESSION['utilisateur'])) {
    header("Location: login.php");
    exit();
}

?>

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="massy.css">
    <title>Massy Academy</title>
</head>
<body>

    <header>
        <nav>
            <svg viewBox="0 0 216 225" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="Group 4" filter="url(#filter0_dd_8_36)">
                    <g id="Group 3">
                        <g id="Group 2">
                            <g id="Group 1">
                                <circle id="Ellipse1" cx="108" cy="113" r="102.5" fill="white" stroke="#9F8D58" stroke-width="3" />
                                <circle id="Ellipse2" cx="107.5" cy="113.5" r="90" fill="#9F8D58" stroke="#9F8D58"
                                    stroke-width="3" />
                            </g>
                            <path id="Vector 5"
                                d="M138.849 12.5L122.849 3C122.849 3 117.349 16.5 134.349 105C139.008 129.255 147.594 147.1 151.849 159.5C165.849 192 167.849 190 167.849 190L186.849 191.5C186.849 191.5 171.349 171.5 159.647 136C147.945 100.5 149.271 104.6 145.849 86C134.349 23.5 138.849 12.5 138.849 12.5Z"
                                fill="white" stroke="#9F8D58" stroke-width="3" />
                        </g>
                        <path id="Vector 6" d="M63.5 141.5V138L50 129V133L63.5 141.5Z" fill="white" />
                        <path id="Vector 11" d="M63.5 164.5V161L50 152V156L63.5 164.5Z" fill="white" />
                        <path id="Vector 10" d="M63.5 152.5V149L50 140V144L63.5 152.5Z" fill="white" />
                        <path id="Vector 9" d="M50 49V119L63.5 129V73.5L93.5 93L122 70.5L120 54.5L92 75.5L50 49Z" fill="white"
                            stroke="#9F8D58" />
                        <path id="Vector 4"
                            d="M95 189.5L85 207L72 203C72 203 95.5 157.5 98 152.5C100.5 147.5 115.5 97 115.5 97L126.5 104L120.5 129L112.5 151C112.5 151 120.5 148.5 128 149C135.5 149.5 143 152.5 143 152.5L135.5 164C135.5 164 128 164 120.5 165C113 166 108 168 104.5 172.5C101 177 95 189.5 95 189.5Z"
                            fill="white" stroke="white" />
                    </g>
                    <g id="MASSY">
                        <path
                            d="M57.7 92.204C57.8173 92.1417 57.9402 92.0849 58.0685 92.0335C58.1932 91.9785 58.3197 91.9254 58.448 91.874C58.316 91.8227 58.1858 91.7695 58.0575 91.7145C57.9292 91.6595 57.8063 91.6009 57.689 91.5385L53.2835 89.1845C53.2285 89.1552 53.1845 89.1259 53.1515 89.0965C53.1185 89.0635 53.0947 89.0287 53.08 88.992C53.0653 88.9517 53.0562 88.9077 53.0525 88.86C53.0488 88.8124 53.047 88.7555 53.047 88.6895V87.573H61V88.8765H55.863C55.7677 88.8765 55.6632 88.8747 55.5495 88.871C55.4358 88.8637 55.3203 88.8545 55.203 88.8435L59.713 91.247C59.8157 91.302 59.8963 91.3735 59.955 91.4615C60.01 91.5495 60.0375 91.6522 60.0375 91.7695V91.973C60.0375 92.0904 60.01 92.193 59.955 92.281C59.8963 92.369 59.8157 92.4405 59.713 92.4955L55.1865 94.932C55.3075 94.9174 55.4267 94.9082 55.544 94.9045C55.6577 94.8972 55.764 94.8935 55.863 94.8935H61V96.197H53.047V95.0805C53.047 95.0145 53.0488 94.9577 53.0525 94.91C53.0562 94.8624 53.0653 94.8202 53.08 94.7835C53.0947 94.7432 53.1185 94.7065 53.1515 94.6735C53.1845 94.6405 53.2285 94.6094 53.2835 94.58L57.7 92.204Z"
                            fill="#9F8D58" />
                        <path
                            d="M61 78.98V80.124C61 80.2523 60.9688 80.3586 60.9065 80.443C60.8405 80.5236 60.7598 80.5823 60.6645 80.619L59.042 81.213V84.5075L60.6645 85.1015C60.7488 85.1308 60.8258 85.1895 60.8955 85.2775C60.9652 85.3618 61 85.4663 61 85.591V86.7405L53.047 83.6165V82.104L61 78.98ZM57.997 84.128V81.5925L55.3515 82.5605C55.2342 82.6045 55.0967 82.654 54.939 82.709C54.7777 82.7603 54.6035 82.8116 54.4165 82.863C54.6035 82.9143 54.7777 82.9656 54.939 83.017C55.1003 83.0646 55.2415 83.1123 55.3625 83.16L57.997 84.128Z"
                            fill="#9F8D58" />
                        <path
                            d="M54.4935 73.8984C54.5742 73.9387 54.631 73.9864 54.664 74.0414C54.697 74.0927 54.7135 74.1551 54.7135 74.2284C54.7135 74.3017 54.686 74.3842 54.631 74.4759C54.5723 74.5676 54.5082 74.6757 54.4385 74.8004C54.3688 74.9251 54.3065 75.0717 54.2515 75.2404C54.1928 75.4054 54.1635 75.6016 54.1635 75.8289C54.1635 76.0342 54.1892 76.2139 54.2405 76.3679C54.2882 76.5182 54.356 76.6466 54.444 76.7529C54.532 76.8556 54.6383 76.9326 54.763 76.9839C54.884 77.0352 55.0178 77.0609 55.1645 77.0609C55.3515 77.0609 55.5073 77.0096 55.632 76.9069C55.7567 76.8006 55.863 76.6612 55.951 76.4889C56.039 76.3166 56.1178 76.1204 56.1875 75.9004C56.2572 75.6804 56.3323 75.4567 56.413 75.2294C56.49 74.9984 56.5817 74.7729 56.688 74.5529C56.7907 74.3329 56.9227 74.1367 57.084 73.9644C57.2417 73.7921 57.436 73.6546 57.667 73.5519C57.898 73.4456 58.1785 73.3924 58.5085 73.3924C58.8678 73.3924 59.2052 73.4547 59.5205 73.5794C59.8322 73.7004 60.1053 73.8801 60.34 74.1184C60.571 74.3531 60.7543 74.6409 60.89 74.9819C61.022 75.3229 61.088 75.7134 61.088 76.1534C61.088 76.4064 61.0623 76.6557 61.011 76.9014C60.9633 77.1471 60.8937 77.3836 60.802 77.6109C60.7103 77.8346 60.6003 78.0454 60.472 78.2434C60.3437 78.4377 60.2007 78.6119 60.043 78.7659L59.3335 78.3369C59.2822 78.2966 59.24 78.2489 59.207 78.1939C59.1703 78.1352 59.152 78.0711 59.152 78.0014C59.152 77.9097 59.1905 77.8107 59.2675 77.7044C59.3408 77.5981 59.4233 77.4734 59.515 77.3304C59.6067 77.1837 59.691 77.0132 59.768 76.8189C59.8413 76.6209 59.878 76.3844 59.878 76.1094C59.878 75.6877 59.779 75.3614 59.581 75.1304C59.3793 74.8994 59.0915 74.7839 58.7175 74.7839C58.5085 74.7839 58.338 74.8371 58.206 74.9434C58.074 75.0461 57.964 75.1836 57.876 75.3559C57.7843 75.5282 57.7073 75.7244 57.645 75.9444C57.5827 76.1644 57.5148 76.3881 57.4415 76.6154C57.3682 76.8427 57.2802 77.0664 57.1775 77.2864C57.0748 77.5064 56.941 77.7026 56.776 77.8749C56.611 78.0472 56.4057 78.1866 56.16 78.2929C55.9107 78.3956 55.6045 78.4469 55.2415 78.4469C54.9518 78.4469 54.6695 78.3901 54.3945 78.2764C54.1195 78.1591 53.8757 77.9904 53.663 77.7704C53.4503 77.5467 53.2798 77.2736 53.1515 76.9509C53.0232 76.6282 52.959 76.2597 52.959 75.8454C52.959 75.3761 53.0323 74.9434 53.179 74.5474C53.3257 74.1514 53.531 73.8141 53.795 73.5354L54.4935 73.8984Z"
                            fill="#9F8D58" />
                        <path
                            d="M54.4935 68.0009C54.5742 68.0413 54.631 68.0889 54.664 68.1439C54.697 68.1953 54.7135 68.2576 54.7135 68.3309C54.7135 68.4043 54.686 68.4868 54.631 68.5784C54.5723 68.6701 54.5082 68.7783 54.4385 68.9029C54.3688 69.0276 54.3065 69.1743 54.2515 69.3429C54.1928 69.5079 54.1635 69.7041 54.1635 69.9314C54.1635 70.1368 54.1892 70.3164 54.2405 70.4704C54.2882 70.6208 54.356 70.7491 54.444 70.8554C54.532 70.9581 54.6383 71.0351 54.763 71.0864C54.884 71.1378 55.0178 71.1634 55.1645 71.1634C55.3515 71.1634 55.5073 71.1121 55.632 71.0094C55.7567 70.9031 55.863 70.7638 55.951 70.5914C56.039 70.4191 56.1178 70.2229 56.1875 70.0029C56.2572 69.7829 56.3323 69.5593 56.413 69.3319C56.49 69.1009 56.5817 68.8754 56.688 68.6554C56.7907 68.4354 56.9227 68.2393 57.084 68.0669C57.2417 67.8946 57.436 67.7571 57.667 67.6544C57.898 67.5481 58.1785 67.4949 58.5085 67.4949C58.8678 67.4949 59.2052 67.5573 59.5205 67.6819C59.8322 67.8029 60.1053 67.9826 60.34 68.2209C60.571 68.4556 60.7543 68.7434 60.89 69.0844C61.022 69.4254 61.088 69.8159 61.088 70.2559C61.088 70.5089 61.0623 70.7583 61.011 71.0039C60.9633 71.2496 60.8937 71.4861 60.802 71.7134C60.7103 71.9371 60.6003 72.1479 60.472 72.3459C60.3437 72.5403 60.2007 72.7144 60.043 72.8684L59.3335 72.4394C59.2822 72.3991 59.24 72.3514 59.207 72.2964C59.1703 72.2378 59.152 72.1736 59.152 72.1039C59.152 72.0123 59.1905 71.9133 59.2675 71.8069C59.3408 71.7006 59.4233 71.5759 59.515 71.4329C59.6067 71.2863 59.691 71.1158 59.768 70.9214C59.8413 70.7234 59.878 70.4869 59.878 70.2119C59.878 69.7903 59.779 69.4639 59.581 69.2329C59.3793 69.0019 59.0915 68.8864 58.7175 68.8864C58.5085 68.8864 58.338 68.9396 58.206 69.0459C58.074 69.1486 57.964 69.2861 57.876 69.4584C57.7843 69.6308 57.7073 69.8269 57.645 70.0469C57.5827 70.2669 57.5148 70.4906 57.4415 70.7179C57.3682 70.9453 57.2802 71.1689 57.1775 71.3889C57.0748 71.6089 56.941 71.8051 56.776 71.9774C56.611 72.1498 56.4057 72.2891 56.16 72.3954C55.9107 72.4981 55.6045 72.5494 55.2415 72.5494C54.9518 72.5494 54.6695 72.4926 54.3945 72.3789C54.1195 72.2616 53.8757 72.0929 53.663 71.8729C53.4503 71.6493 53.2798 71.3761 53.1515 71.0534C53.0232 70.7308 52.959 70.3623 52.959 69.9479C52.959 69.4786 53.0323 69.0459 53.179 68.6499C53.3257 68.2539 53.531 67.9166 53.795 67.6379L54.4935 68.0009Z"
                            fill="#9F8D58" />
                        <path
                            d="M57.909 62.8295H61V64.309H57.909L53.047 67.2075V65.904C53.047 65.7756 53.0782 65.6748 53.1405 65.6015C53.2028 65.5245 53.2817 65.4603 53.377 65.409L56.0335 63.9515C56.1912 63.8671 56.3415 63.7938 56.4845 63.7315C56.6238 63.6691 56.7613 63.6123 56.897 63.561C56.7577 63.5133 56.6183 63.4601 56.479 63.4015C56.336 63.3391 56.1875 63.2658 56.0335 63.1815L53.377 61.735C53.2963 61.6946 53.2212 61.6341 53.1515 61.5535C53.0818 61.4728 53.047 61.3701 53.047 61.2455V59.9365L57.909 62.8295Z"
                            fill="#9F8D58" />
                    </g>
                    <g id="ACADEMY">
                        <path
                            d="M110.709 150.075L110.397 151.176C110.362 151.299 110.303 151.393 110.22 151.457C110.135 151.517 110.041 151.551 109.939 151.56L108.216 151.689L107.317 154.859L108.716 155.873C108.789 155.924 108.847 156.001 108.89 156.105C108.934 156.205 108.939 156.315 108.905 156.435L108.592 157.541L101.793 152.366L102.206 150.91L110.709 150.075ZM106.415 154.208L107.107 151.769L104.298 151.978C104.173 151.989 104.027 151.999 103.861 152.009C103.691 152.014 103.51 152.016 103.316 152.014C103.482 152.115 103.635 152.212 103.777 152.305C103.919 152.395 104.042 152.479 104.145 152.558L106.415 154.208Z"
                            fill="#9F8D58" />
                        <path
                            d="M110.544 143.784C110.566 143.707 110.615 143.648 110.691 143.609L111.458 143.221C111.755 143.64 111.941 144.106 112.016 144.619C112.093 145.129 112.041 145.701 111.861 146.336C111.7 146.904 111.458 147.388 111.135 147.788C110.813 148.185 110.433 148.494 109.997 148.717C109.56 148.94 109.077 149.07 108.548 149.107C108.021 149.14 107.473 149.076 106.905 148.915C106.33 148.752 105.831 148.508 105.409 148.182C104.983 147.856 104.647 147.471 104.399 147.027C104.151 146.583 104 146.094 103.946 145.56C103.889 145.022 103.943 144.462 104.108 143.88C104.269 143.312 104.501 142.842 104.805 142.471C105.106 142.095 105.449 141.798 105.835 141.58L106.362 142.244C106.396 142.284 106.422 142.332 106.441 142.386C106.461 142.438 106.46 142.502 106.438 142.58C106.415 142.661 106.36 142.735 106.272 142.802C106.184 142.868 106.085 142.956 105.974 143.066C105.863 143.175 105.747 143.322 105.627 143.505C105.507 143.684 105.404 143.927 105.317 144.234C105.215 144.594 105.184 144.944 105.225 145.283C105.264 145.618 105.368 145.928 105.539 146.212C105.711 146.494 105.947 146.744 106.247 146.962C106.544 147.176 106.901 147.342 107.318 147.46C107.748 147.582 108.148 147.631 108.517 147.606C108.887 147.577 109.216 147.492 109.504 147.349C109.793 147.206 110.039 147.01 110.242 146.763C110.442 146.515 110.588 146.229 110.68 145.904C110.735 145.71 110.774 145.532 110.797 145.371C110.821 145.207 110.828 145.052 110.82 144.909C110.812 144.762 110.789 144.62 110.751 144.484C110.711 144.343 110.655 144.199 110.582 144.053C110.56 144.008 110.546 143.964 110.54 143.92C110.529 143.876 110.531 143.83 110.544 143.784Z"
                            fill="#9F8D58" />
                        <path
                            d="M114.778 135.731L114.466 136.831C114.43 136.955 114.371 137.049 114.289 137.113C114.203 137.172 114.109 137.207 114.008 137.216L112.285 137.345L111.386 140.514L112.785 141.528C112.858 141.58 112.916 141.657 112.959 141.761C113.003 141.861 113.008 141.971 112.974 142.091L112.66 143.197L105.861 138.021L106.274 136.566L114.778 135.731ZM110.484 139.864L111.176 137.425L108.367 137.634C108.242 137.644 108.096 137.654 107.929 137.664C107.76 137.67 107.578 137.672 107.384 137.67C107.55 137.77 107.704 137.867 107.845 137.961C107.987 138.051 108.11 138.135 108.214 138.214L110.484 139.864Z"
                            fill="#9F8D58" />
                        <path
                            d="M113.103 127.064C113.663 127.223 114.152 127.462 114.568 127.782C114.984 128.102 115.314 128.48 115.556 128.914C115.799 129.349 115.946 129.831 115.998 130.36C116.05 130.89 115.994 131.443 115.83 132.022L115.001 134.943L107.35 132.773L108.178 129.852C108.342 129.273 108.587 128.773 108.913 128.351C109.235 127.928 109.613 127.595 110.048 127.352C110.479 127.109 110.956 126.96 111.478 126.906C112 126.852 112.542 126.905 113.103 127.064ZM112.69 128.519C112.27 128.4 111.878 128.35 111.515 128.368C111.148 128.386 110.82 128.467 110.532 128.61C110.24 128.752 109.99 128.955 109.781 129.22C109.574 129.481 109.417 129.799 109.311 130.173L108.889 131.66L114.276 133.188L114.697 131.701C114.803 131.327 114.837 130.974 114.797 130.643C114.759 130.308 114.654 130.004 114.484 129.731C114.31 129.457 114.074 129.216 113.774 129.009C113.471 128.801 113.11 128.638 112.69 128.519Z"
                            fill="#9F8D58" />
                        <path
                            d="M110.961 120.041L112.093 120.362L111.131 123.754L113.253 124.356L114.011 121.684L115.106 121.994L114.348 124.666L116.513 125.28L117.475 121.889L118.612 122.211L117.244 127.037L109.592 124.867L110.961 120.041Z"
                            fill="#9F8D58" />
                        <path
                            d="M116.876 116.239C117.006 116.211 117.14 116.19 117.277 116.175C117.412 116.156 117.548 116.14 117.686 116.125C117.573 116.04 117.462 115.953 117.354 115.865C117.245 115.778 117.143 115.688 117.047 115.596L113.451 112.129C113.406 112.086 113.372 112.045 113.348 112.008C113.325 111.967 113.312 111.927 113.308 111.888C113.305 111.845 113.308 111.8 113.317 111.754C113.327 111.707 113.341 111.652 113.359 111.588L113.663 110.514L121.314 112.684L120.959 113.938L116.017 112.536C115.925 112.51 115.825 112.48 115.717 112.446C115.609 112.407 115.501 112.367 115.391 112.325L119.074 115.867C119.158 115.948 119.216 116.039 119.248 116.14C119.277 116.24 119.275 116.346 119.243 116.459L119.188 116.654C119.156 116.767 119.101 116.859 119.024 116.928C118.944 116.997 118.847 117.044 118.733 117.069L113.714 118.177C113.834 118.196 113.951 118.22 114.065 118.249C114.176 118.273 114.28 118.298 114.375 118.325L119.317 119.727L118.961 120.981L111.31 118.811L111.615 117.737C111.633 117.673 111.65 117.619 111.667 117.574C111.683 117.529 111.703 117.491 111.727 117.46C111.753 117.425 111.786 117.396 111.826 117.373C111.867 117.351 111.918 117.333 111.979 117.32L116.876 116.239Z"
                            fill="#9F8D58" />
                        <path
                            d="M119.743 106.897L122.717 107.74L122.313 109.163L119.339 108.32L113.871 109.782L114.227 108.528C114.262 108.404 114.319 108.316 114.399 108.262C114.48 108.205 114.573 108.165 114.679 108.142L117.633 107.464C117.807 107.426 117.972 107.397 118.126 107.376C118.278 107.354 118.425 107.337 118.57 107.324C118.449 107.24 118.329 107.151 118.211 107.057C118.091 106.958 117.968 106.847 117.843 106.723L115.682 104.607C115.615 104.546 115.559 104.467 115.514 104.371C115.469 104.274 115.464 104.166 115.498 104.046L115.855 102.787L119.743 106.897Z"
                            fill="#9F8D58" />
                    </g>
                </g>
                <defs>
                    <filter id="filter0_dd_8_36" x="0" y="0.820923" width="216" height="224.179" filterUnits="userSpaceOnUse"
                        color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                            result="hardAlpha" />
                        <feOffset dy="4" />
                        <feGaussianBlur stdDeviation="2" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
                        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_8_36" />
                        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                            result="hardAlpha" />
                        <feOffset dy="4" />
                        <feGaussianBlur stdDeviation="2" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
                        <feBlend mode="normal" in2="effect1_dropShadow_8_36" result="effect2_dropShadow_8_36" />
                        <feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_8_36" result="shape" />
                    </filter>
                </defs>
            </svg>
            <a href="login.php">Login</a>
        </nav>
    </header>
    <main>
        <form action="main.php" method="POST" enctype="multipart/form-data">
            <button type="submit" name="afficher" value="afficher" class="original">Afficher les membres du club</button>
            <button type="submit" name="ajouter" value="ajouter" class="original">Ajouter un joueur</button>
            <button type="submit" name="supprimer" value="supprimer" class="original">Supprimer un ou des
                joueurs</button>
        </form>

        <!-- Formulaire -->

<?php

if (isset($_POST['afficher'])){
    afficherListeJoueurs();
} elseif(isset($_POST['ajouter'])){
    afficherFormulaireInsertion();
} elseif(isset($_POST['supprimer'])){
    afficherSupprimer();
}


// InsÃ©rer un joueur 
if (isset($_POST['BtnInsererUnJoueur'])){
    insererUnJoueur();
}
// Supprimer joueurs
if (isset($_POST['BtnSupprimerJoueurs'])){
    effacerJoueurs();
}



// Fonctions 

// Afficher 

function afficherListeJoueurs(){
    // Connection 
    $conn = mysqli_connect("localhost", "ayoubkahfy_Coach_Ayoub", "Ayoub2018ww", "ayoubkahfy_equipe_foot");
    $sql = mysqli_query($conn, "SELECT * FROM liste_des_joueurs") or die(mysqli_error($conn));
    
    // Afficher le tableau 
    echo "<table>";
    // Afficher les catÃ©gories 
    $categories = mysqli_fetch_fields($sql);
    echo "<tr>";
    foreach ($categories as $categorie) {
    echo "<th>" . $categorie->name . "</th>";
    }
    echo "</tr>";
    // Afficher les infos 
    while ($Joueur = mysqli_fetch_assoc($sql)){
        echo "<tr>";
        foreach($Joueur as $categorie => $info){
            if($categorie == 'Photo') {
                echo "<td><img src='imagesFoot/$info' width='100' height='100'></td>";
            } else {
                echo "<td>$info</td>";
            }
        }
    }
    echo "</table>";
    mysqli_close($conn);
}

// InsÃ©rer un joueur 

function afficherFormulaireInsertion(){
    echo '<form action="main.php" method="post" class="formulaireInscription" enctype="multipart/form-data">
            <h1>Ajouter un joueur</h1>
            <input type="text" name="Prenom" placeholder="Prenom" required>
            <br><input type="text" name="Nom" placeholder="Nom" required>
            <br><input type="text" name="Position" placeholder="Position" required>
            <br><input type="text" name="Age" placeholder="Age" required>
            <br><label for="file">Ajouter la photo du joueur:</label>
            <br><input type="file" id="file" name="image" accept="image/*">
            <br><input type="submit" name="BtnInsererUnJoueur" value="Envoyer">
        </form>';
}


function insererUnJoueur(){
    $conn = mysqli_connect("localhost", "ayoubkahfy_Coach_Ayoub", "Ayoub2018ww", "ayoubkahfy_equipe_foot");
    $prenom = $_POST['Prenom'];
    $nom = $_POST['Nom'];
    $position = $_POST['Position'];
    $age = $_POST['Age'];

    // InsÃ©rer image 
    $image = $_FILES['image']['name'];
    $target_dir = "imagesFoot/";
    $target_file = $target_dir . basename($_FILES["image"]["name"]);

    // DÃ©placer l'image tÃ©lÃ©chargÃ©e vers le dossier des tÃ©lÃ©chargements
    move_uploaded_file($_FILES["image"]["tmp_name"], $target_file);

    
    $sql = mysqli_query($conn, "INSERT INTO liste_des_joueurs (Prenom, Nom, Position, Age, Photo) VALUES('$prenom', '$nom', '$position', '$age', '$image')") or die(mysqli_error($conn));
    mysqli_close($conn);
    afficherListeJoueurs();
}

// Afficher pour supprimer  

function afficherSupprimer(){
    // Connection 
    $conn = mysqli_connect("localhost", "ayoubkahfy_Coach_Ayoub", "Ayoub2018ww", "ayoubkahfy_equipe_foot");
    $sql = mysqli_query($conn, "SELECT * FROM liste_des_joueurs") or die(mysqli_error($conn));
    
    // Afficher le formulaire pour supprimer les joueurs
    echo '<form action="main.php" method="POST" class="formulaireSuppr">';
    
    // Afficher le tableau 
    $categories = mysqli_fetch_fields($sql);
    
    echo "<table>";
    // Afficher les catÃ©gories 
    echo "<tr>";
    echo "<th></th>"; // Ajouter une case Ã  cocher pour la suppression
    foreach ($categories as $categorie) {
        echo "<th>" . $categorie->name . "</th>";
    }
    echo "</tr>";
    // Afficher les infos 
    while ($Joueur = mysqli_fetch_assoc($sql)){
        echo "<tr>";
        // Ajouter une case Ã  cocher pour la suppression
        echo '<td><input type="checkbox" name="supprimer[]" value="' . $Joueur['id'] . '" onclick="updateSupprimerButton()"></td>';
        foreach($Joueur as $categorie => $info){
            if($categorie == 'Photo') {
                echo "<td><img src='imagesFoot/$info' width='100' height='100'></td>";
            } else {
                echo "<td>$info</td>";
            }
        }
        echo "</tr>";
    }
    echo "</table>";
    // Ajouter un bouton de soumission pour supprimer les joueurs sÃ©lectionnÃ©s
    echo '<input type="submit" name="BtnSupprimerJoueurs" id="BtnSupprimer" value="Supprimer les joueurs sÃ©lectionnÃ©s" style="display:none;">';
    echo '</form>';
    mysqli_close($conn);
}


// Supprimer joueurs sÃ©lectionnÃ©s
function effacerJoueurs(){
    $conn = mysqli_connect("localhost", "ayoubkahfy_Coach_Ayoub", "Ayoub2018ww", "ayoubkahfy_equipe_foot");
    foreach($_POST['supprimer'] as $id){
        $sql = mysqli_query($conn, "DELETE FROM liste_des_joueurs WHERE ID = '$id'") or die(mysqli_error($conn));
    }
    mysqli_close($conn);
    echo '<p class="msgSuprReussie">Suppression rÃ©ussie</p>';
}

?>
    </main>




    <script src="./script.js"></script>
</body>
</html>